<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Desa Gedung Agung</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;600;700&family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'oswald': ['Oswald', 'sans-serif'],
                        'roboto': ['Roboto', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#00bfa5', 
                        'dark-bg': '#0f172a', 
                        'card-dark': '#1e293b', 
                    }
                }
            }
        }
    </script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Roboto', sans-serif; background-color: #0f172a; color: #e2e8f0; }

        .hero-video {
            position: absolute; top: 50%; left: 50%;
            min-width: 100%; min-height: 100%;
            width: auto; height: auto;
            transform: translate(-50%, -50%);
            object-fit: cover;
        }

        .card-slider-container {
            position: relative; width: 100%; height: 450px;
            display: flex; align-items: center; justify-content: center;
            perspective: 1000px; overflow: visible;
        }
        .card-slider {
            position: relative; width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            transform-style: preserve-3d;
        }
        .card {
            position: absolute; width: 260px; height: 360px;
            border-radius: 20px; overflow: hidden; cursor: pointer;
            transition: all 0.6s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 15px 35px rgba(0,0,0,0.5);
            left: 50%; top: 50%; 
            border: 1px solid rgba(255,255,255,0.1);
            background: #1e293b;
            user-select: none;
        }

        .card-image {
            width: 100%;       
            height: 100%;      
            object-fit: cover; 
            object-position: center; 
            pointer-events: none; 
            display: block;    
        }

        .card-content {
            position: absolute; bottom: 0; left: 0; width: 100%; padding: 20px; z-index: 10;
            background: linear-gradient(to top, rgba(0,0,0,0.9), transparent);
            pointer-events: none;
        }
        
        .card-title {
            font-family: 'Oswald', sans-serif; font-size: 1.5rem; font-weight: 700; color: white;
            text-transform: uppercase; line-height: 1; margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }

        .nav-link { position: relative; padding-bottom: 0.5rem; transition: color 0.3s ease; }
        .nav-link:hover { color: #00bfa5; }
        .nav-link::after { content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px; background: #00bfa5; transition: width 0.3s ease; }
        .nav-link:hover::after, .nav-link.active::after { width: 100%; }
        
        .btn-primary { transition: all 0.3s ease; }
        .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 0 20px rgba(0, 191, 165, 0.4); }

        .section-title {
            font-family: 'Oswald', sans-serif;
            position: relative;
            display: inline-block;
            margin-bottom: 3rem;
        }
        .section-title::after {
            content: ''; position: absolute; bottom: -10px; left: 50%; transform: translateX(-50%);
            width: 60px; height: 3px; background: #00bfa5;
        }

        .glass-card {
            background: rgba(30, 41, 59, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            border-color: rgba(0, 191, 165, 0.3);
        }
        #mobileMenu { transition: transform 0.3s ease-in-out; }
        .menu-open { transform: translateX(0) !important; }
    </style>
</head>
<body class="overflow-x-hidden bg-dark-bg text-gray-200">

    <section id="beranda" class="relative w-full h-screen overflow-hidden">
        
        <video class="hero-video" autoplay muted loop playsinline poster="">
            <source src="img/video/IMG_5081.mp4" type="video/mp4">
        </video>
        
        <div class="absolute inset-0 bg-gradient-to-r from-gray-900/80 via-slate-900/50 to-cyan-900/30 z-10"></div>
        <div class="absolute inset-0 bg-gradient-to-b from-gray-900/30 via-transparent to-dark-bg z-10"></div>
        
        <nav class="fixed top-0 left-0 w-full z-50 px-6 md:px-12 lg:px-20 py-4 transition-all duration-300 bg-dark-bg/30 backdrop-blur-md border-b border-white/10">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <img src="img/logolamsell.png" alt="Logo Desa" class="h-10 md:h-12 w-auto object-contain drop-shadow-md">
                    <span class="text-white text-lg font-bold tracking-wide uppercase font-oswald">Gedung Agung</span>
                </div>
                
                <ul class="hidden lg:flex items-center space-x-8 text-white text-xs font-bold tracking-widest uppercase">
                    <li><a href="index.html" class="nav-link text-primary active">Home</a></li>
                    <li><a href="profil.html" class="nav-link">Profil</a></li>
                    <li><a href="geografis.html" class="nav-link">Peta</a></li>
                    <li><a href="explore.html" class="nav-link">Eksplor</a></li>
                    <li><a href="galeri.html" class="nav-link">Galeri</a></li>
                    <li><a href="kontak.html" class="nav-link">Kontak</a></li>
                </ul>

                <button id="hamburgerBtn" class="lg:hidden text-white text-2xl focus:outline-none hover:text-primary transition">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </nav>

        <div id="mobileMenu" class="fixed inset-0 z-[60] bg-dark-bg/98 backdrop-blur-xl transform translate-x-full lg:hidden flex flex-col items-center justify-center space-y-8">
            <button id="closeMenuBtn" class="absolute top-6 right-6 text-white text-3xl hover:text-primary"><i class="fas fa-times"></i></button>
            <a href="index.html" class="text-xl font-oswald text-white hover:text-primary">HOME</a>
            <a href="profil.html" class="text-xl font-oswald text-white hover:text-primary">PROFIL</a>
            <a href="explore.html" class="text-xl font-oswald text-white hover:text-primary">EKSPLOR</a>
            <a href="geografis.html" class="text-xl font-oswald text-white hover:text-primary">PETA</a>
            <a href="galeri.html" class="text-xl font-oswald text-white hover:text-primary">GALERI</a>
            <a href="kontak.html" class="text-xl font-oswald text-white hover:text-primary">KONTAK</a>
        </div>
        
        <div class="relative z-20 h-full flex items-center px-6 md:px-12 lg:px-20 pt-10"> 
            <div class="w-full grid grid-cols-1 lg:grid-cols-5 gap-8 items-center">
                
                <div class="lg:col-span-2 text-white space-y-6 animate-fadeInLeft delay-100">
                    <p class="text-primary font-bold tracking-[0.3em] text-xs uppercase">Kecamatan Jati Agung</p>
                    <h1 class="font-oswald text-5xl md:text-6xl lg:text-7xl font-bold leading-none">
                        JELAJAHI<br>POTENSI<br><span class="text-transparent bg-clip-text bg-gradient-to-r from-primary to-cyan-300">DESA KAMI</span>
                    </h1>
                    <p class="text-gray-300 text-sm md:text-base leading-relaxed max-w-lg font-light">
                        Selamat datang di Website Resmi Desa Gedung Agung, Kecamatan Jati Agung, Kabupaten Lampung Selatan, Provinsi Lampung.
                    </p>
                    <a href="profil.html" class="inline-block btn-primary bg-primary text-gray-900 px-8 py-3 rounded-full text-sm font-bold tracking-wider uppercase shadow-lg">
                        Mulai Menjelajah
                    </a>
                </div>
                
                <div class="lg:col-span-3 relative animate-fadeInRight delay-200 hidden md:block lg:-mt-80">
                    <div class="card-slider-container">
                        <div id="cardSlider" class="card-slider">
                            </div>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <section class="py-20 px-6 md:px-12 lg:px-20 relative bg-dark-bg">
        <div class="container mx-auto">
            <div class="flex flex-col md:flex-row items-center gap-12">
                <div class="w-full md:w-1/2">
                    <div class="relative rounded-2xl overflow-hidden shadow-2xl border border-gray-700 group">
                        <img src="img/profil.jpeg" alt="Peta Desa" class="w-full h-auto transform group-hover:scale-105 transition duration-700">
                        <div class="absolute inset-0 bg-gradient-to-t from-dark-bg to-transparent opacity-60"></div>
                    </div>
                </div>
                <div class="w-full md:w-1/2 space-y-6">
                    <p class="text-primary font-bold tracking-widest uppercase text-sm">Tentang Kami</p>
                    <h2 class="font-oswald text-4xl font-bold text-white">Profil Desa Gedung Agung</h2>
                    <p class="text-gray-400 leading-relaxed text-justify ">
                        Desa Gedung Agung adalah sebuah desa yang terletak di kecamatan Jati Agung, desa yang sebagian besar didominasi dataran rendah dengan penduduk yang heterogen, terdiri dari penduduk asli dan pendatang, serta kental dengan budaya masyarakat Jawa dan masyarakat Palembang. Desa ini memiliki kondisi geografis yang cukup strategis dengan daratan yang cukup subur, sehingga mendukung aktivitas pertanian dan peternakan masyarakat setempat. Akses antarwilayah desa cukup baik, sehingga memudahkan mobilitas penduduk serta distribusi hasil usaha ekonomi masyarakat.
                    </p>
                    <a href="profil.html" class="text-primary font-bold uppercase tracking-wider text-sm hover:text-white transition">Lihat Selengkapnya <i class="fas fa-arrow-right ml-2"></i></a>
                </div>
            </div>
        </div>
    </section>

    <section class="py-20 px-6 md:px-12 lg:px-20 relative">
        <div class="container mx-auto">
            <div class="flex justify-between items-end mb-10">
                <div>
                    <h2 class="text-4xl font-oswald font-bold text-white mb-2 section-title">Kabar & Potensi Terkini</h2>
                </div>
                <a href="explore.html" class="text-primary hover:text-white transition text-sm font-bold uppercase tracking-wider mb-2">
                    Lihat Semua <i class="fas fa-arrow-right ml-1"></i>
                </a>
            </div>
            <div id="news-container" class="grid grid-cols-1 md:grid-cols-3 gap-8">
            </div>
        </div>
    </section>

    <section class="py-20 px-6 md:px-12 lg:px-20 bg-slate-900/50">
        <div class="container mx-auto text-center">
            <h2 class="text-4xl font-oswald font-bold text-white mb-10 section-title">Galeri Desa</h2>
            <div id="galeri-container" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>
            <div class="mt-8">
                <a href="galeri.html" class="inline-block border border-primary text-primary hover:bg-primary hover:text-gray-900 px-8 py-3 rounded-full text-sm font-bold tracking-wider uppercase transition">
                    Lihat Semua Galeri
                </a>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 pt-16 border-t border-gray-800">
        <div class="container mx-auto px-6 md:px-12 lg:px-20 mb-12">
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <div class="flex items-center space-x-3 mb-4">
                    <img src="img/logolamsell.png" alt="Logo Desa" class="h-10 md:h-12 w-auto object-contain drop-shadow-md">
                    <span class="text-white text-lg font-bold tracking-wide uppercase font-oswald">Gedung Agung</span>
                </div>
                    <p class="text-gray-400 max-w-md text-sm">
                        Membangun desa dengan inovasi digital dan kearifan lokal. Mari bersinergi untuk kemajuan bersama.
                    </p>
                </div>
                
                <div class="flex flex-col md:flex-row md:justify-end md:items-center space-y-4 md:space-y-0 md:space-x-6">
                    <div class="text-gray-400 text-sm">
                        <div class="flex items-center mb-2 md:justify-end"><i class="fas fa-map-marker-alt w-6 text-primary"></i> Kec. Jati Agung, Lampung Selatan</div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    
    <script src="data-galeri.js"></script>

    <script>
        const cardData = [
            { 
                title: 'LUMBUNG JAGUNG', 
                subtitle: 'Potensi Utama',
                img: 'img/jagung.jpg', 
                link: 'detail-potensi.html?page=jagung' 
            },
            { 
                title: 'IRIGASI DESA', 
                subtitle: 'Tata Ruang',
                img: 'img/irigasi.jpg', 
                link: 'detail-potensi.html?page=irigasi' 
            },
            { 
                title: 'PETERNAKAN', 
                subtitle: 'Ekonomi Warga',
                img: 'img/sapi.jpg', 
                link: 'detail-potensi.html?page=sapi' 
            },
            { 
                title: 'KEGIATAN', 
                subtitle: 'Sosial Budaya',
                img: 'img/pengajian.jpg', 
                link: 'detail-sosial.html?topic=gema-malam' 
            },
            { 
                title: 'IDENTITAS', 
                subtitle: 'Gapura Batas',
                img: 'img/identitas.jpg', 
                link: 'detail-ikon.html?page=identitas' 
            }
        ];
        
        let currentRotation = 0;
        const totalCards = cardData.length;
        let isAnimating = false;

        let isDragging = false;
        let startPos = 0;
        let currentTranslate = 0;
        let prevTranslate = 0;
        let autoPlayTimer;
        
        const slider = document.getElementById('cardSlider');
        const container = document.querySelector('.card-slider-container');
        
        function createCards() {
            slider.innerHTML = '';
            cardData.forEach((data, index) => {
                const card = document.createElement('div');
                card.className = 'card';
                card.innerHTML = `
                    <img src="${data.img}" class="card-image" alt="${data.title}">
                    <div class="card-content">
                        <div class="card-title">${data.title}</div>
                        <div class="text-[10px] uppercase text-primary mt-2">Klik Detail <i class="fas fa-arrow-right"></i></div>
                    </div>
                `;

                card.addEventListener('click', (e) => {
                    const centerIndex = ((currentRotation % totalCards) + totalCards) % totalCards;
                    if (index === centerIndex) {
                        window.location.href = data.link;
                    } else {
                        rotateToCard(index);
                    }
                });
                
                slider.appendChild(card);
            });
        }
        
        function updateCardPositions() {
            const cards = slider.querySelectorAll('.card');
            const centerIndex = ((currentRotation % totalCards) + totalCards) % totalCards;
            
            cards.forEach((card, index) => {
                const positionDiff = ((index - centerIndex) + totalCards) % totalCards;
                const adjustedDiff = positionDiff > totalCards / 2 ? positionDiff - totalCards : positionDiff;
                
                const radius = window.innerWidth < 768 ? 220 : 380; 
                const spreadAngle = window.innerWidth < 768 ? 45 : 55;
                const angle = adjustedDiff * spreadAngle;
                
                const x = Math.sin(angle * Math.PI / 180) * radius;
                const z = Math.cos(angle * Math.PI / 180) * radius - radius;
                
                let scale, opacity, blur, zIndex, border;
                
                if (adjustedDiff === 0) { // Center
                    scale = 1.2; opacity = 1; blur = 0; zIndex = 100;
                    border = "2px solid #00bfa5";
                } else if (Math.abs(adjustedDiff) === 1) { // Neighbors
                    scale = 0.85; opacity = 0.6; blur = 2; zIndex = 50;
                    border = "1px solid rgba(255,255,255,0.1)";
                } else { // Far
                    scale = 0.6; opacity = 0.3; blur = 4; zIndex = 20;
                    border = "none";
                }
                
                card.style.transform = `translateX(calc(-50% + ${x}px)) translateZ(${z}px) scale(${scale})`;
                card.style.opacity = opacity;
                card.style.zIndex = zIndex;
                card.style.border = border;
            });
        }

        function rotateCarousel(direction) {
            if (isAnimating) return;
            isAnimating = true;
            currentRotation = (currentRotation - direction + totalCards) % totalCards;
            updateCardPositions();
            setTimeout(() => { isAnimating = false; }, 500);
        }
        
        function rotateToCard(targetIndex) {
            if (isAnimating) return;
            isAnimating = true;
            
            const centerIndex = currentRotation % totalCards;
            let diff = targetIndex - centerIndex;
            
            if (diff > totalCards / 2) diff -= totalCards;
            else if (diff < -totalCards / 2) diff += totalCards;
            
            currentRotation = (currentRotation - diff + totalCards) % totalCards;
            updateCardPositions();
            setTimeout(() => { isAnimating = false; }, 500);
        }

        
        container.addEventListener('mousedown', startDrag);
        container.addEventListener('touchstart', startDrag);
        container.addEventListener('mousemove', moveDrag);
        container.addEventListener('touchmove', moveDrag);
        container.addEventListener('mouseup', endDrag);
        container.addEventListener('touchend', endDrag);
        container.addEventListener('mouseleave', () => { if(isDragging) endDrag(); });

        container.addEventListener('mouseenter', stopAutoPlay);
        container.addEventListener('touchstart', stopAutoPlay);
        
        container.addEventListener('mouseleave', startAutoPlay);
        container.addEventListener('touchend', startAutoPlay);

        function startDrag(e) {
            if(isAnimating) return;
            isDragging = true;
            stopAutoPlay();
            startPos = getPositionX(e);
        }

        function moveDrag(e) {
            if (!isDragging) return;
            const currentPosition = getPositionX(e);
            currentTranslate = prevTranslate + currentPosition - startPos;
        }

        function endDrag() {
            isDragging = false;
            const movedBy = currentTranslate - prevTranslate;
            const moveThreshold = 50; 

            if (movedBy < -moveThreshold) {
                rotateCarousel(-1); 
            } else if (movedBy > moveThreshold) {
                rotateCarousel(1); 
            }
            
            currentTranslate = 0;
            prevTranslate = 0;
            startAutoPlay(); 
        }

        function getPositionX(e) {
            return e.type.includes('mouse') ? e.pageX : e.touches[0].clientX;
        }

        function startAutoPlay() {
            stopAutoPlay();
            autoPlayTimer = setInterval(() => {
                if(!isDragging && !isAnimating) {
                    rotateCarousel(1); 
                }
            }, 4000); 
        }

        function stopAutoPlay() {
            clearInterval(autoPlayTimer);
        }

        createCards();
        updateCardPositions();
        startAutoPlay(); // Mulai Auto Play
        window.addEventListener('resize', updateCardPositions);

        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const closeMenuBtn = document.getElementById('closeMenuBtn');
        const mobileMenu = document.getElementById('mobileMenu');

        function toggleMenu() {
            mobileMenu.classList.toggle('menu-open');
            document.body.classList.toggle('overflow-hidden');
        }

        if(hamburgerBtn) hamburgerBtn.addEventListener('click', toggleMenu);
        if(closeMenuBtn) closeMenuBtn.addEventListener('click', toggleMenu);

        const newsContainer = document.getElementById('news-container');
        const newsData = [
            {
                date: "2026",
                title: "Panen Raya Jagung Hibrida",
                desc: "Petani Desa Gedung Agung kembali mencatatkan hasil panen jagung melimpah sebagai lumbung pangan daerah.",
                img: "img/jagung.jpg",
                link: "detail-potensi.html?page=jagung" 
            },
            {
                date: "2026",
                title: "Gema Malam & Seni Budaya",
                desc: "Kegiatan rutin pemuda dan masyarakat dalam melestarikan seni budaya lokal melalui pentas gema malam.",
                img: "img/pengajian.jpg",
                link: "detail-sosial.html?topic=gema-malam" 
            },
            {
                date: "2026",
                title: "Pengembangan Ternak Mandiri",
                desc: "Kelompok tani ternak sukses mengembangkan Optimalisasi Diversifikasi ternak sebagai Pilar Bio-Sirkular didesa.",
                img: "img/sapi.jpg",
                link: "detail-potensi.html?page=sapi" 
            }
        ];

        if (newsContainer) {
            newsContainer.innerHTML = '';
            newsData.forEach(item => {
                const article = `
                    <article class="glass-card rounded-2xl overflow-hidden group cursor-pointer" onclick="window.location.href='${item.link}'">
                        <div class="h-48 overflow-hidden relative">
                            <img src="${item.img}" alt="${item.title}" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                            <div class="absolute top-4 left-4 bg-primary text-gray-900 text-xs font-bold px-3 py-1 rounded shadow-lg">
                                ${item.date}
                            </div>
                            <div class="absolute inset-0 bg-black/20 group-hover:bg-transparent transition"></div>
                        </div>
                        <div class="p-6 relative">
                            <h3 class="text-xl font-bold text-white mb-3 group-hover:text-primary transition font-oswald tracking-wide">
                                ${item.title} <i class="fas fa-arrow-right text-xs ml-1 opacity-0 group-hover:opacity-100 transition-opacity -translate-x-2 group-hover:translate-x-0 transform inline-block"></i>
                            </h3>
                            <p class="text-gray-400 text-sm mb-4 line-clamp-2 leading-relaxed">
                                ${item.desc}
                            </p>
                            <span class="text-primary text-xs font-bold uppercase tracking-wider border-b border-transparent group-hover:border-primary transition">
                                Baca Selengkapnya
                            </span>
                        </div>
                    </article>
                `;
                newsContainer.innerHTML += article;
            });
        }

        const galeriContainer = document.getElementById('galeri-container');
        if (typeof dataGaleri !== 'undefined' && galeriContainer) {
            const previewGaleri = dataGaleri.slice(0, 4); 
            previewGaleri.forEach(item => {
                const element = `
                    <div class="aspect-square rounded-xl overflow-hidden cursor-pointer group">
                        <img src="${item.src}" alt="${item.title}" class="w-full h-full object-cover group-hover:scale-110 transition duration-500 opacity-80 group-hover:opacity-100">
                    </div>
                `;
                galeriContainer.innerHTML += element;
            });
        }
    </script>
</body>
</html>